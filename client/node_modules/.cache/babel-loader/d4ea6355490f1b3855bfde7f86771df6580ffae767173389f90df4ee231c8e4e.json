{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation,Link}from'react-router-dom';import{allProducts}from'../data/products';import ProductCard from'../components/ProductCard';import Header from'../components/Header';import Footer from'../components/Footer';import'../styles/Products.css';import'../styles/product-card.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Products=()=>{const location=useLocation();const[activeCategory,setActiveCategory]=useState(null);const[activeSubcategory,setActiveSubcategory]=useState(null);useEffect(()=>{const params=new URLSearchParams(location.search);const category=params.get('category');setActiveCategory(category||null);setActiveSubcategory(null);},[location]);// Нормализация названия категории\nconst normalizeCategoryName=name=>{if(!name)return null;return name.toLowerCase().trim();};const renderContent=()=>{var _categoryData$activeS;// Главная страница товаров (коллекции)\nif(!activeCategory){return Object.entries(allProducts.collections).map(_ref=>{let[name,items]=_ref;return/*#__PURE__*/_jsxs(\"section\",{className:\"collection-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"collection-title\",children:name.toUpperCase()}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:items.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product.id))})]},name);});}const normalizedCategory=normalizeCategoryName(activeCategory);const categoryData=allProducts.categories[normalizedCategory];// Если категория не найдена\nif(!categoryData){return/*#__PURE__*/_jsxs(\"div\",{className:\"not-found\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F \\\"\",activeCategory,\"\\\" \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430\"]}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"back-link\",children:\"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043A \\u043A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\\u0443\"})]});}// Страница категории (подкатегории)\nif(!activeSubcategory){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:activeCategory.toUpperCase()}),Object.entries(categoryData).map(_ref2=>{let[name,items]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"subcategory-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"subcategory-title\",onClick:()=>setActiveSubcategory(name),children:name.toUpperCase()}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:items.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product.id))})]},name);})]});}// Страница подкатегории (все товары)\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveSubcategory(null),className:\"back-button neon-button\",children:[\"\\u2190 \\u041D\\u0430\\u0437\\u0430\\u0434 \\u043A \",activeCategory]}),/*#__PURE__*/_jsx(\"h2\",{className:\"page-title\",children:activeSubcategory.toUpperCase()}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:(_categoryData$activeS=categoryData[activeSubcategory])===null||_categoryData$activeS===void 0?void 0:_categoryData$activeS.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product.id))})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{className:\"products-page\",children:renderContent()}),/*#__PURE__*/_jsx(Footer,{})]});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","useLocation","Link","allProducts","ProductCard","Header","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Products","location","activeCategory","setActiveCategory","activeSubcategory","setActiveSubcategory","params","URLSearchParams","search","category","get","normalizeCategoryName","name","toLowerCase","trim","renderContent","_categoryData$activeS","Object","entries","collections","map","_ref","items","className","children","toUpperCase","product","id","normalizedCategory","categoryData","categories","to","_ref2","onClick"],"sources":["C:/Users/dinat/OneDrive/Рабочий стол/lining/client/src/pages/Products.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport { allProducts } from '../data/products';\r\nimport ProductCard from '../components/ProductCard';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport '../styles/Products.css';\r\nimport '../styles/product-card.css';\r\n\r\nconst Products = () => {\r\n  const location = useLocation();\r\n  const [activeCategory, setActiveCategory] = useState(null);\r\n  const [activeSubcategory, setActiveSubcategory] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(location.search);\r\n    const category = params.get('category');\r\n    setActiveCategory(category || null);\r\n    setActiveSubcategory(null);\r\n  }, [location]);\r\n\r\n  // Нормализация названия категории\r\n  const normalizeCategoryName = (name) => {\r\n    if (!name) return null;\r\n    return name.toLowerCase().trim();\r\n  };\r\n\r\n  const renderContent = () => {\r\n    // Главная страница товаров (коллекции)\r\n    if (!activeCategory) {\r\n      return Object.entries(allProducts.collections).map(([name, items]) => (\r\n        <section key={name} className=\"collection-section\">\r\n          <h2 className=\"collection-title\">{name.toUpperCase()}</h2>\r\n          <div className=\"products-grid\">\r\n            {items.map(product => (\r\n              <ProductCard key={product.id} product={product} />\r\n            ))}\r\n          </div>\r\n        </section>\r\n      ));\r\n    }\r\n\r\n    const normalizedCategory = normalizeCategoryName(activeCategory);\r\n    const categoryData = allProducts.categories[normalizedCategory];\r\n\r\n    // Если категория не найдена\r\n    if (!categoryData) {\r\n      return (\r\n        <div className=\"not-found\">\r\n          <h2>Категория \"{activeCategory}\" не найдена</h2>\r\n          <Link to=\"/products\" className=\"back-link\">\r\n            Вернуться к каталогу\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // Страница категории (подкатегории)\r\n    if (!activeSubcategory) {\r\n      return (\r\n        <>\r\n          <h1 className=\"page-title\">{activeCategory.toUpperCase()}</h1>\r\n          {Object.entries(categoryData).map(([name, items]) => (\r\n            <div key={name} className=\"subcategory-section\">\r\n              <h2 \r\n                className=\"subcategory-title\"\r\n                onClick={() => setActiveSubcategory(name)}\r\n              >\r\n                {name.toUpperCase()}\r\n              </h2>\r\n              <div className=\"products-grid\">\r\n                {items.map(product => (\r\n                  <ProductCard key={product.id} product={product} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </>\r\n      );\r\n    }\r\n\r\n    // Страница подкатегории (все товары)\r\n    return (\r\n      <>\r\n        <button \r\n          onClick={() => setActiveSubcategory(null)}\r\n          className=\"back-button neon-button\"\r\n        >\r\n          ← Назад к {activeCategory}\r\n        </button>\r\n        <h2 className=\"page-title\">{activeSubcategory.toUpperCase()}</h2>\r\n        <div className=\"products-grid\">\r\n          {categoryData[activeSubcategory]?.map(product => (\r\n            <ProductCard key={product.id} product={product} />\r\n          ))}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Header />\r\n      <main className=\"products-page\">\r\n        {renderContent()}\r\n      </main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}